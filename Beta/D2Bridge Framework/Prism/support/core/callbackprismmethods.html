<script type="text/javascript">
   function PageLoadComplete()
   {
      if (vpageloadcomplete === false) {

         vpageloadcomplete = true;
                  
         hideOverlayError();
         
         PrismServer().ExecEvent("{{UUID}}", "{{Token}}", "{{FormUUID}}", "{{ControlID}}", "AfterPageLoad", "", false);

         UnLockThreadClient();
      } else {

      }

      UpdateActivityTime();      
   }
  
   function SendHBPrismWs()
   {
     if (vpageloadcomplete === true)
     {
        if (prismws instanceof WebSocket) {
           if (prismws.readyState === WebSocket.OPEN & prismwsconnected === true) {
              PrismServer().Heartbeat("{{UUID}}", "{{Token}}", "{{FormUUID}}");
           }
        }
     }
   }

   function OnCameraInitialize() {
      let param = "camerainfo=" + D2BridgeCameraInfo();

      PrismServer().ExecEvent("{{UUID}}", "{{Token}}", "{{FormUUID}}", "{{ControlID}}", "CameraInitialize", param, false);    
   }

   function UpdateD2BridgeControls(selectedprismcontrols)
   {
      PrismServer().ExecEvent("{{UUID}}", "{{Token}}", "{{FormUUID}}", "{{ControlID}}", "UpdateD2BridgeControls", "PrismComponentsStatus=" + GetComponentsStates(selectedprismcontrols), false);
   }

   window.addEventListener('resize', function () {
      PrismServer().ExecEvent("{{UUID}}", "{{Token}}", "{{FormUUID}}", "{{ControlID}}", "PageResize", D2BridgeGetViewportInfo(), false);
   });


   window.addEventListener("orientationchange", function () {
      PrismServer().ExecEvent("{{UUID}}", "{{Token}}", "{{FormUUID}}", "{{ControlID}}", "OrientationChange", D2BridgeGetViewportInfo(), false);
   });   

</script>
  